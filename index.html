<!DOCTYPE html>
<html>
<head>
  <title>Page Title</title>
  <link rel="stylesheet" href="bootstrap.css">
  <script src="https://unpkg.com/dropbox/dist/Dropbox-sdk.min.js"></script>
</head>
<body>
  <div>
    <div>
      <label for="formFile" class="form-label mt-4">Default file input example</label>
        <div>
          <label for="exampleSelect1" class="form-label mt-4">Example select</label>
          <select class="form-select" id="exampleSelect1">
            <option>2 PRO NJPF gr2</option>
          </select>
        </div>
      <input id="upload_input" class="form-control" type="file">
    </div>

    <button id="upload_button" class="btn btn-primary" onclick="my_upload_file();">Submit</button>
  </div>
  <script>
    const MY_TOKEN = 'sl.CAgBxZ-ncjb0m-OIZA3ENzsZFQ91T7aHFQw0nuR1hp_gzSQeW7U6KFPqhpO5wmLiBrORAGucpjYUJVywnjflGvBOwJ48BQXcq4cyyC-AjFOLiqK12TpvF6mVU_ypRdEoBgaCflpYnDVo'
    function my_upload_file(){
      console.log('click');
      const selectedFile = document.getElementById('upload_input').files[0];
      console.log(selectedFile);
      fetch('https://content.dropboxapi.com/2/files/upload', {
        method: 'post',
        grant_type: 'authorization_code',
        body: selectedFile, //Base64 
        headers: {'Authorization': 'Bearer '+ MY_TOKEN,
                  'Content-Type': 'application/octet-stream',
                  'Accept': 'application/json',
    	            'Dropbox-API-Arg': '{"path": "/marie_lora_upload_file/","mode": "add","autorename": false,"mute": false,"strict_conflict": false}'
                  }
      }).then(function(response) {
            console.log(response.json());
      });
    }
  </script>
</body>
</html>
